<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>V8 bytecode comparison</title>

		<link rel="stylesheet" href="css/reset.css">
		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/white.css" id="theme">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/monokai.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
						<h2>STRAC</h2>
						<h4>Comparing V8 bytecode traces</h4>
						<h5>Javier Cabrera Arteaga (javierca@kth.se)</h5>
						
				</section>
				<section>
					<section>
						<h4>Objective</h4>
						<p>Compare JavaScript code through V8 bytecode representation</p>
					</section>
					<section>
						<h4>V8 bytecode generation</h4>
						<ul>
							<li class="fragment">V8 interpreter: Ignition is a register machine</li>
							<li class="fragment">Bytecode generation trace is composed by function declarations
							

							<li class="fragment">Lazy generated</li>
							<pre class="fragment" style="width: 600px; font-size:9pt">
									<code class="">[generated bytecode for function: f1]
...
Return
[generated bytecode for function: f2]
...
Return
[generated bytecode for function: f3]
...
Return


[generated bytecode for function: myFunction]
Parameter count 1
Register count 3
Frame size 24
  24 E>  0x1fb95d275e @    0 : a5                StackCheck
 324 E>  0x1f1311329b @   29 : 30 fa 02 02       StaKeyedProperty r1, a0, [2]
	 0x1f1311329f @   33 : 0d                LdaUndefined
  33 S>  0x1fb95d275f @    1 : 13 00 00          LdaGlobal [0], [0]
	 0x1fb95d2762 @    4 : 26 fa             Star r1
  41 E>  0x1fb95d2764 @    6 : 28 fa 01 02       LdaNamedProperty r1, [1], [2]
 681 S>  0x1f131132a0 @   34 : a9                Return
...
[generated bytecode for function: fm]
...
Return</code>
									</pre>
									</li>
						</ul>
					</section>

					<section>
						<h4>Bytecode generation trace is non-deterministic</h4>
						<ul>
							<li class="fragment">Fetching and compile processes are triggered when a declaration is found in the html parsing</li>
							<!-- <li>V8 builtin bytecode > 40k instructions</li> -->
							<li class="fragment">Network response time can vary</li>
							<li class="fragment">Script content can vary (For example, Google Analytic)</li>
						</ul>
					</section>

					<section>
						<ul>
							<li class="fragment">Two traces from the same site can be different</li>
							<li class="fragment">Scripts are translated to bytecode in the same order they are declared in the html page</li>

							<li class="fragment">Bytecode representation is resilient to static code minification/obfuscation techniques</li>
						</ul>
						

					</section>
					
				</section>
				<section>
					<section>
						<h3>How to compare V8 bytecode traces?</h3>
				
						<h5>We need to tackle non-determinism in bytecode generation trace</h5>
					</section>
					<section>
						<h4>STRAC Alignment approach</h4>
						<h5 class="fragment">Dynamic Time Warping algorithm (1970)</h5>
						<div style="display: flex; align-items:center;justify-content:space-between">

								<div class="fragment">
										\[
				D_{ij}= min
				\begin{cases}
				D_{i - 1j} + \gamma,\\
				D_{i j - 1} + \gamma \\
				D_{i - 1j - 1} + d(x_i, y_j)
				\end{cases}
				\]</div>

				<svg class="fragment" xmlns="http://www.w3.org/2000/svg" width="263" height="302" style="
				width:263px;
				height:302px;
				background: white;
				fill: none;
		">
				
				<svg xmlns="http://www.w3.org/2000/svg" class="role-diagram-draw-area"><g class="shapes-region" style="stroke: black; fill: none;"><g class="composite-shape"><path class="real" d=" M56,264 L212,264 L212,282 L56,282 Z" style="stroke-width: 1; stroke: none; fill: rgb(238, 238, 238);"/></g><g class="composite-shape"><path class="real" d=" M56,238 L212,238 L212,256 L56,256 Z" style="stroke-width: 1; stroke: none; fill: rgb(238, 238, 238);"/></g><g class="composite-shape"><path class="real" d=" M90,32 L107,32 L107,51 L90,51 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="grouped-shape"><g class="grouped-shape"/><g class="grouped-shape"/><g class="grouped-shape"/><g class="grouped-shape"/><g class="grouped-shape"/><g class="grouped-shape"/><g class="grouped-shape"/><g class="grouped-shape"/><g class="grouped-shape"/></g><g class="grouped-shape"/><g class="grouped-shape"/><g class="composite-shape"><path class="real" d=" M73,51 L192,51 L192,204 L73,204 Z" style="stroke-width: 1; stroke: none; fill: none;"/><path class="real" d=" M90,51 L90,204 M107,51 L107,204 M124,51 L124,204 M141,51 L141,204 M158,51 L158,204 M175,51 L175,204" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none;"/><path class="real" d=" M73,68 L192,68 M73,85 L192,85 M73,102 L192,102 M73,119 L192,119 M73,136 L192,136 M73,153 L192,153 M73,170 L192,170 M73,187 L192,187" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none;"/><path class="real" d=" M73,51 L192,51 L192,204 L73,204 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M98.5,77 L85.16,61.99" style="stroke: rgb(250, 144, 0); stroke-width: 3; fill: none;"/><g stroke="rgba(250,144,0,1)" transform="matrix(0.6643176677893625,0.7474503570558396,-0.7474503570558396,0.6643176677893625,82.5,59)" style="stroke: rgb(250, 144, 0); stroke-width: 3;"><path d=" M17.49,-5.26 Q7.94,-0.72 0,0 Q7.94,0.72 17.49,5.26"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M98.5,112 L98.5,77" style="stroke: rgb(82, 167, 255); stroke-width: 3; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M150.5,162 L101.38,114.77" style="stroke: rgb(250, 144, 0); stroke-width: 3; fill: none;"/><g stroke="rgba(250,144,0,1)" transform="matrix(0.7207931106757872,0.6931502662499109,-0.6931502662499109,0.7207931106757872,98.5,112)" style="stroke: rgb(250, 144, 0); stroke-width: 3;"><path d=" M17.49,-5.26 Q7.94,-0.72 0,0 Q7.94,0.72 17.49,5.26"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M150.5,182 L150.5,162" style="stroke: rgb(82, 167, 255); stroke-width: 3; fill: none;"/></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M166.5,196 L153.51,184.63" style="stroke: rgb(250, 144, 0); stroke-width: 3; fill: none;"/><g stroke="rgba(250,144,0,1)" transform="matrix(0.7525298604334792,0.6585581289119193,-0.6585581289119193,0.7525298604334792,150.5,182)" style="stroke: rgb(250, 144, 0); stroke-width: 3;"><path d=" M17.49,-5.26 Q7.94,-0.72 0,0 Q7.94,0.72 17.49,5.26"/></g></g><g class="arrow-line"><path class="connection real" stroke-dasharray="" d="  M183.5,196 L166.5,196" style="stroke: rgb(82, 167, 255); stroke-width: 3; fill: none;"/></g><g class="composite-shape"><path class="real" d=" M56,68 L73,68 L73,85 L56,85 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M108,32 L157.5,32 L157.5,50 L108,50 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M55,119 L73,119 L73,170 L55,170 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M56,187 L73,187 L73,204 L56,204 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M158.5,32 L174.5,32 L174.5,51 L158.5,51 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M55.5,86 L73,86 L73,119 L55.5,119 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(82, 167, 255, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M55.5,171 L73,171 L73,187 L55.5,187 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(82, 167, 255, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M175,32 L192,32 L192,51 L175,51 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(82, 167, 255, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M56,238 L73,238 L73,256 L56,256 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M110,238 L159.5,238 L159.5,256 L110,256 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M178.5,238 L194.5,238 L194.5,256 L178.5,256 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M74.5,238 L108.5,238 L108.5,256 L74.5,256 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(82, 167, 255, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M160.5,238 L176.5,238 L176.5,256 L160.5,256 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(82, 167, 255, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M56,264 L73,264 L73,282 L56,282 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M110,264 L159.5,264 L159.5,282 L110,282 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M178.5,264 L194.5,264 L194.5,282 L178.5,282 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(250, 144, 0, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g class="composite-shape"><path class="real" d=" M195,264 L212,264 L212,282 L195,282 Z" style="stroke-width: 1; stroke: rgb(0, 0, 0); fill: rgba(82, 167, 255, 0.4); stroke-dasharray: 1.125, 3.35;"/></g><g/></g><g/><g/><!-- react-empty: 2015 --></svg>
				<svg xmlns="http://www.w3.org/2000/svg" width="261" height="300" style="width:261px;height:300px;font-family:Asana-Math, Asana;background:white;"><g><g><text x="94.625" y="32" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="111.625" y="32" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="128.625" y="32" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">b</text></g></g><g><g><text x="145.625" y="32" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="162.625" y="32" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">c</text></g></g><g><g><text x="179.625" y="32" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="60.625" y="67" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="60.625" y="84" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">b</text></g></g><g><g><text x="60.625" y="100" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">c</text></g></g><g><g><text x="60.625" y="118" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="60.625" y="135" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">b</text></g></g><g><g><text x="60.625" y="152" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="60.625" y="168" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">b</text></g></g><g><g><text x="60.625" y="186" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">c</text></g></g><g><g><text x="163.625" y="53" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">5</text></g></g><g><g><text x="146.625" y="53" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="129.625" y="53" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="112.625" y="53" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="95.625" y="53" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">1</text></g></g><g><g><text x="78.625" y="53" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">0</text></g></g><g><g><text x="180.625" y="53" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">6</text></g></g><g><g><text x="181.125" y="70" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">5</text></g></g><g><g><text x="79.125" y="70" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">1</text></g></g><g><g><text x="96.125" y="70" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">0</text></g></g><g><g><text x="113.125" y="70" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">1</text></g></g><g><g><text x="130.125" y="70" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="147.125" y="70" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="164.125" y="70" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="180.625" y="87" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="78.625" y="87" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="95.625" y="87" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">1</text></g></g><g><g><text x="112.625" y="87" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="129.625" y="87" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">1</text></g></g><g><g><text x="146.625" y="87" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="163.625" y="87" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="180.625" y="105" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="78.625" y="105" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="95.625" y="105" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="112.625" y="105" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="129.625" y="105" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="146.625" y="105" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="163.625" y="105" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="180.625" y="122" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="78.625" y="122" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="95.625" y="122" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="112.625" y="122" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="129.625" y="122" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="146.625" y="122" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="163.625" y="122" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="180.625" y="138" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="78.625" y="138" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">5</text></g></g><g><g><text x="95.625" y="138" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="112.625" y="138" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="129.625" y="138" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="146.625" y="138" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="163.625" y="138" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="180.625" y="155" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="78.625" y="155" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">6</text></g></g><g><g><text x="95.625" y="155" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">5</text></g></g><g><g><text x="112.625" y="155" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="129.625" y="155" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="146.625" y="155" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">2</text></g></g><g><g><text x="163.625" y="155" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="180.625" y="172" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">5</text></g></g><g><g><text x="78.625" y="172" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">7</text></g></g><g><g><text x="95.625" y="172" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">6</text></g></g><g><g><text x="112.625" y="172" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">5</text></g></g><g><g><text x="129.625" y="172" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="146.625" y="172" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="163.625" y="172" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="180.625" y="190" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="78.625" y="190" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">8</text></g></g><g><g><text x="95.625" y="190" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">7</text></g></g><g><g><text x="112.625" y="190" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">6</text></g></g><g><g><text x="129.625" y="190" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">5</text></g></g><g><g><text x="146.625" y="190" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">4</text></g></g><g><g><text x="163.625" y="190" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:12px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">3</text></g></g><g><g><text x="182.625" y="238" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">c</text></g></g><g><g><text x="147.625" y="238" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="130.625" y="238" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">b</text></g></g><g><g><text x="113.625" y="238" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="60.625" y="238" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="80.625" y="238" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">b</text></g></g><g><g><text x="94.625" y="238" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">c</text></g></g><g><g><text x="163.625" y="238" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">b</text></g></g><g><g><text x="199.125" y="263.5" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="182.625" y="264" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">c</text></g></g><g><g><text x="147.625" y="264" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="130.625" y="264" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">b</text></g></g><g><g><text x="113.625" y="264" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g><g><g><text x="60.625" y="264" style="white-space:pre;stroke:none;fill:rgb(0, 0, 0);font-size:15px;font-family:Arial, Helvetica, sans-serif;font-weight:400;font-style:normal;dominant-baseline:text-before-edge;text-decoration:none solid rgb(0, 0, 0);">a</text></g></g></svg>
		</svg>
		
						</div>
					</section>
					<section>
						<h3>Naive DTW</h3>
						<ul>
							<li class="fragment">Good accuracy comparing traces</li>
							<li class="fragment">Generic distance definition for event comparison</li>
							<li class="fragment">Time and space quadratic complexity by definition (for traces of 150k instructions each, we need 200GB of memory)</li>
							<li class="fragment">There are several approximations (Data abstraction, Evaluation boundaries)</li>
							<li class="fragment">Provides a similarity measure between traces</li>
						</ul>
					</section>
					<section>
						<h3>STRAC implementation</h3>
						<ul>
							<li class="fragment">State-of-the-art tools implement algorithm completly in memory</li>
							<li class="fragment">We move memory to disk</li>
						</ul>

						
					</section>

				</section>

				<section>
					<section>
					<h3>Experimental evaluation</h3>
				</section>

					<section>
						<h3>Targets</h3>
						<ul>
							<li>google.com -> 85768 -> 5 scripts</li>
							<li>kth.se -> 104178 -> 9 scripts</li>
							<li>2019.splashcon.org -> 147196 -> 17 scripts</li>
							<li>wikipedia.org -> 48260 -> 4 scripts</li>
							<li>github.com -> 59384 -> 3 scripts</li>
							<li>youtube.com -> 166626 -> 15 scripts</li>
						</ul>
					</section>
					<section>
						<h3>STRAC vs other implementations</h3>
						<img src="img/time.png"/>
						
					</section>
					<section>
						<h3>Can we detect semantic similarity?</h3>
						<img src="img/RQ2.png" />
						
					</section>
					<section>
						<ul>
							<li class="fragment">Rich feature sites</li>
							<li class="fragment">No stable response time (Google case)</li>
							<li class="fragment">Variable script content</li>
						</ul>
					</section>
					<section>
							<h3>How event distance functions affect semantic similarity detection</h3>
							<img src="img/RQ3.png" />
						</section>
					<section>
						<h5>Event distance function</h5>
						<ul>
							<li class="fragment">Less restrictive -> Less accuracy</li>
						</ul>
					</section>
					<section>
						<ul>
							<li class="fragment">Is this really bad ?</li>
							<li class="fragment">Semantic similarity is a subjective criterion</li>
						</ul>
					</section>
					
				</section>
				<section>
					<section>
						<h3>Conclusion</h3>
						<ul>
							<li>STRAC naive DTW implementation works for traces of real-world pages in reasonable time</li>
							<li>Common bytecode affect comparison</li>
						</ul>
					</section>
					<section>
						<h3>What did we learn?</h3>
						<ul>
							<li class="fragment">V8 is a huge amazing machine</li>
							<li class="fragment">Few people analyzing JavaScript through bytecode</li>
						</ul>
					</section>
				</section>
				<section>
					<h2>Thanks</h2>
				</section>
			</div>
		</div>

		<script src="js/reveal.js"></script>

		<script>
			// More info about config & dependencies:
			// - https://github.com/hakimel/reveal.js#configuration
			// - https://github.com/hakimel/reveal.js#dependencies
			Reveal.initialize({
				math: {
					// mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
					config: 'TeX-AMS_HTML-full',
					TeX: {
						Macros: {
							R: '\\mathbb{R}',
							set: [ '\\left\\{#1 \\; ; \\; #2\\right\\}', 2 ]
						}
					}
				},
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/math/math.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },

				]
			});
		</script>
	</body>
</html>
